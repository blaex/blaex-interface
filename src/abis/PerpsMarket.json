[
  {
    "inputs": [
      {
        "internalType": "address",
        "name": "_owner",
        "type": "address"
      },
      {
        "internalType": "address",
        "name": "_perpsVault",
        "type": "address"
      },
      {
        "internalType": "address",
        "name": "_pyth",
        "type": "address"
      }
    ],
    "stateMutability": "nonpayable",
    "type": "constructor"
  },
  {
    "anonymous": false,
    "inputs": [
      {
        "indexed": false,
        "internalType": "uint256",
        "name": "orderId",
        "type": "uint256"
      },
      {
        "indexed": false,
        "internalType": "uint256",
        "name": "executeTime",
        "type": "uint256"
      }
    ],
    "name": "OrderCanceled",
    "type": "event"
  },
  {
    "anonymous": false,
    "inputs": [
      {
        "indexed": false,
        "internalType": "uint256",
        "name": "orderId",
        "type": "uint256"
      },
      {
        "indexed": false,
        "internalType": "uint256",
        "name": "executePrice",
        "type": "uint256"
      },
      {
        "indexed": false,
        "internalType": "uint256",
        "name": "executeTime",
        "type": "uint256"
      }
    ],
    "name": "OrderExecuted",
    "type": "event"
  },
  {
    "anonymous": false,
    "inputs": [
      {
        "indexed": false,
        "internalType": "uint256",
        "name": "orderId",
        "type": "uint256"
      },
      {
        "indexed": false,
        "internalType": "enum IPerpsMarket.OrderType",
        "name": "orderType",
        "type": "uint8"
      },
      {
        "indexed": false,
        "internalType": "bool",
        "name": "isLong",
        "type": "bool"
      },
      {
        "indexed": false,
        "internalType": "address",
        "name": "account",
        "type": "address"
      },
      {
        "indexed": false,
        "internalType": "uint256",
        "name": "market",
        "type": "uint256"
      },
      {
        "indexed": false,
        "internalType": "address",
        "name": "collateralToken",
        "type": "address"
      },
      {
        "indexed": false,
        "internalType": "uint256",
        "name": "collateralDeltaUsd",
        "type": "uint256"
      },
      {
        "indexed": false,
        "internalType": "uint256",
        "name": "sizeDeltaUsd",
        "type": "uint256"
      },
      {
        "indexed": false,
        "internalType": "uint256",
        "name": "triggerPrice",
        "type": "uint256"
      },
      {
        "indexed": false,
        "internalType": "uint256",
        "name": "acceptablePrice",
        "type": "uint256"
      },
      {
        "indexed": false,
        "internalType": "uint256",
        "name": "keeperFee",
        "type": "uint256"
      }
    ],
    "name": "OrderSubmitted",
    "type": "event"
  },
  {
    "anonymous": false,
    "inputs": [
      {
        "indexed": false,
        "internalType": "uint256",
        "name": "positionId",
        "type": "uint256"
      },
      {
        "indexed": false,
        "internalType": "uint256",
        "name": "market",
        "type": "uint256"
      },
      {
        "indexed": false,
        "internalType": "uint256",
        "name": "sizeInUsd",
        "type": "uint256"
      },
      {
        "indexed": false,
        "internalType": "uint256",
        "name": "sizeDeltaInUsd",
        "type": "uint256"
      },
      {
        "indexed": false,
        "internalType": "uint256",
        "name": "collateralInUsd",
        "type": "uint256"
      },
      {
        "indexed": false,
        "internalType": "uint256",
        "name": "collateralDeltaInUsd",
        "type": "uint256"
      },
      {
        "indexed": false,
        "internalType": "bool",
        "name": "isLong",
        "type": "bool"
      }
    ],
    "name": "PositionModified",
    "type": "event"
  },
  {
    "inputs": [],
    "name": "FACTOR",
    "outputs": [
      {
        "internalType": "uint256",
        "name": "",
        "type": "uint256"
      }
    ],
    "stateMutability": "view",
    "type": "function"
  },
  {
    "inputs": [],
    "name": "USDB",
    "outputs": [
      {
        "internalType": "contract IERC20",
        "name": "",
        "type": "address"
      }
    ],
    "stateMutability": "view",
    "type": "function"
  },
  {
    "inputs": [
      {
        "internalType": "uint256",
        "name": "id",
        "type": "uint256"
      }
    ],
    "name": "cancelOrder",
    "outputs": [],
    "stateMutability": "nonpayable",
    "type": "function"
  },
  {
    "inputs": [
      {
        "components": [
          {
            "internalType": "uint256",
            "name": "id",
            "type": "uint256"
          },
          {
            "internalType": "string",
            "name": "symbol",
            "type": "string"
          },
          {
            "internalType": "bytes32",
            "name": "priceFeedId",
            "type": "bytes32"
          }
        ],
        "internalType": "struct IPerpsMarket.CreateMarketParams",
        "name": "params",
        "type": "tuple"
      }
    ],
    "name": "createMarket",
    "outputs": [],
    "stateMutability": "nonpayable",
    "type": "function"
  },
  {
    "inputs": [
      {
        "components": [
          {
            "internalType": "address",
            "name": "receiver",
            "type": "address"
          },
          {
            "internalType": "address",
            "name": "callbackContract",
            "type": "address"
          },
          {
            "internalType": "address",
            "name": "uiFeeReceiver",
            "type": "address"
          },
          {
            "internalType": "uint256",
            "name": "market",
            "type": "uint256"
          },
          {
            "internalType": "address",
            "name": "collateralToken",
            "type": "address"
          },
          {
            "internalType": "uint256",
            "name": "sizeDeltaUsd",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "collateralDeltaUsd",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "triggerPrice",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "acceptablePrice",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "executionFee",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "callbackGasLimit",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "minOutputAmount",
            "type": "uint256"
          },
          {
            "internalType": "enum IPerpsMarket.OrderType",
            "name": "orderType",
            "type": "uint8"
          },
          {
            "internalType": "bool",
            "name": "isLong",
            "type": "bool"
          }
        ],
        "internalType": "struct IPerpsMarket.CreateOrderParams",
        "name": "params",
        "type": "tuple"
      }
    ],
    "name": "createOrder",
    "outputs": [],
    "stateMutability": "payable",
    "type": "function"
  },
  {
    "inputs": [
      {
        "internalType": "uint256",
        "name": "_amount",
        "type": "uint256"
      }
    ],
    "name": "depositCollateralCallback",
    "outputs": [],
    "stateMutability": "nonpayable",
    "type": "function"
  },
  {
    "inputs": [],
    "name": "enableExchange",
    "outputs": [
      {
        "internalType": "bool",
        "name": "",
        "type": "bool"
      }
    ],
    "stateMutability": "view",
    "type": "function"
  },
  {
    "inputs": [
      {
        "internalType": "uint256",
        "name": "id",
        "type": "uint256"
      }
    ],
    "name": "executeOrder",
    "outputs": [],
    "stateMutability": "nonpayable",
    "type": "function"
  },
  {
    "inputs": [
      {
        "internalType": "uint256",
        "name": "id",
        "type": "uint256"
      }
    ],
    "name": "getMarket",
    "outputs": [
      {
        "components": [
          {
            "internalType": "uint256",
            "name": "id",
            "type": "uint256"
          },
          {
            "internalType": "string",
            "name": "symbol",
            "type": "string"
          },
          {
            "internalType": "uint256",
            "name": "size",
            "type": "uint256"
          },
          {
            "internalType": "int256",
            "name": "skew",
            "type": "int256"
          },
          {
            "internalType": "int256",
            "name": "lastFundingRate",
            "type": "int256"
          },
          {
            "internalType": "int256",
            "name": "lastFundingValue",
            "type": "int256"
          },
          {
            "internalType": "uint256",
            "name": "lastFundingTime",
            "type": "uint256"
          },
          {
            "internalType": "bytes32",
            "name": "priceFeedId",
            "type": "bytes32"
          },
          {
            "internalType": "bool",
            "name": "enable",
            "type": "bool"
          }
        ],
        "internalType": "struct IPerpsMarket.Market",
        "name": "",
        "type": "tuple"
      }
    ],
    "stateMutability": "view",
    "type": "function"
  },
  {
    "inputs": [
      {
        "internalType": "address",
        "name": "account",
        "type": "address"
      }
    ],
    "name": "getOpenOrders",
    "outputs": [
      {
        "components": [
          {
            "internalType": "address",
            "name": "account",
            "type": "address"
          },
          {
            "internalType": "uint256",
            "name": "market",
            "type": "uint256"
          },
          {
            "internalType": "address",
            "name": "collateralToken",
            "type": "address"
          },
          {
            "internalType": "uint256",
            "name": "id",
            "type": "uint256"
          },
          {
            "internalType": "enum IPerpsMarket.OrderType",
            "name": "orderType",
            "type": "uint8"
          },
          {
            "internalType": "uint256",
            "name": "sizeDeltaUsd",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "collateralDeltaUsd",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "triggerPrice",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "acceptablePrice",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "keeperFee",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "callbackGasLimit",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "minOutputAmount",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "updatedAtBlock",
            "type": "uint256"
          },
          {
            "internalType": "bool",
            "name": "isLong",
            "type": "bool"
          },
          {
            "internalType": "bool",
            "name": "isFilled",
            "type": "bool"
          },
          {
            "internalType": "bool",
            "name": "isCanceled",
            "type": "bool"
          }
        ],
        "internalType": "struct IPerpsMarket.Order[]",
        "name": "",
        "type": "tuple[]"
      }
    ],
    "stateMutability": "view",
    "type": "function"
  },
  {
    "inputs": [
      {
        "internalType": "address",
        "name": "acccount",
        "type": "address"
      }
    ],
    "name": "getOpenPositions",
    "outputs": [
      {
        "components": [
          {
            "internalType": "address",
            "name": "account",
            "type": "address"
          },
          {
            "internalType": "uint256",
            "name": "market",
            "type": "uint256"
          },
          {
            "internalType": "address",
            "name": "collateralToken",
            "type": "address"
          },
          {
            "internalType": "uint256",
            "name": "id",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "sizeInUsd",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "sizeInToken",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "collateralInUsd",
            "type": "uint256"
          },
          {
            "internalType": "int256",
            "name": "realisedPnl",
            "type": "int256"
          },
          {
            "internalType": "int256",
            "name": "paidFunding",
            "type": "int256"
          },
          {
            "internalType": "int256",
            "name": "latestInteractionFunding",
            "type": "int256"
          },
          {
            "internalType": "bool",
            "name": "isLong",
            "type": "bool"
          },
          {
            "internalType": "bool",
            "name": "isClose",
            "type": "bool"
          }
        ],
        "internalType": "struct IPerpsMarket.Position[]",
        "name": "",
        "type": "tuple[]"
      }
    ],
    "stateMutability": "view",
    "type": "function"
  },
  {
    "inputs": [
      {
        "internalType": "uint256",
        "name": "id",
        "type": "uint256"
      }
    ],
    "name": "getOrder",
    "outputs": [
      {
        "components": [
          {
            "internalType": "address",
            "name": "account",
            "type": "address"
          },
          {
            "internalType": "uint256",
            "name": "market",
            "type": "uint256"
          },
          {
            "internalType": "address",
            "name": "collateralToken",
            "type": "address"
          },
          {
            "internalType": "uint256",
            "name": "id",
            "type": "uint256"
          },
          {
            "internalType": "enum IPerpsMarket.OrderType",
            "name": "orderType",
            "type": "uint8"
          },
          {
            "internalType": "uint256",
            "name": "sizeDeltaUsd",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "collateralDeltaUsd",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "triggerPrice",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "acceptablePrice",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "keeperFee",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "callbackGasLimit",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "minOutputAmount",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "updatedAtBlock",
            "type": "uint256"
          },
          {
            "internalType": "bool",
            "name": "isLong",
            "type": "bool"
          },
          {
            "internalType": "bool",
            "name": "isFilled",
            "type": "bool"
          },
          {
            "internalType": "bool",
            "name": "isCanceled",
            "type": "bool"
          }
        ],
        "internalType": "struct IPerpsMarket.Order",
        "name": "",
        "type": "tuple"
      }
    ],
    "stateMutability": "view",
    "type": "function"
  },
  {
    "inputs": [
      {
        "internalType": "uint256",
        "name": "id",
        "type": "uint256"
      }
    ],
    "name": "getPosition",
    "outputs": [
      {
        "components": [
          {
            "internalType": "address",
            "name": "account",
            "type": "address"
          },
          {
            "internalType": "uint256",
            "name": "market",
            "type": "uint256"
          },
          {
            "internalType": "address",
            "name": "collateralToken",
            "type": "address"
          },
          {
            "internalType": "uint256",
            "name": "id",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "sizeInUsd",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "sizeInToken",
            "type": "uint256"
          },
          {
            "internalType": "uint256",
            "name": "collateralInUsd",
            "type": "uint256"
          },
          {
            "internalType": "int256",
            "name": "realisedPnl",
            "type": "int256"
          },
          {
            "internalType": "int256",
            "name": "paidFunding",
            "type": "int256"
          },
          {
            "internalType": "int256",
            "name": "latestInteractionFunding",
            "type": "int256"
          },
          {
            "internalType": "bool",
            "name": "isLong",
            "type": "bool"
          },
          {
            "internalType": "bool",
            "name": "isClose",
            "type": "bool"
          }
        ],
        "internalType": "struct IPerpsMarket.Position",
        "name": "",
        "type": "tuple"
      }
    ],
    "stateMutability": "view",
    "type": "function"
  },
  {
    "inputs": [
      {
        "internalType": "uint256",
        "name": "marketId",
        "type": "uint256"
      }
    ],
    "name": "indexPrice",
    "outputs": [
      {
        "internalType": "uint256",
        "name": "",
        "type": "uint256"
      }
    ],
    "stateMutability": "view",
    "type": "function"
  },
  {
    "inputs": [
      {
        "internalType": "bytes32",
        "name": "_role",
        "type": "bytes32"
      },
      {
        "internalType": "address",
        "name": "_user",
        "type": "address"
      }
    ],
    "name": "isAuthorized",
    "outputs": [
      {
        "internalType": "bool",
        "name": "",
        "type": "bool"
      }
    ],
    "stateMutability": "view",
    "type": "function"
  },
  {
    "inputs": [],
    "name": "keeperFee",
    "outputs": [
      {
        "internalType": "uint256",
        "name": "",
        "type": "uint256"
      }
    ],
    "stateMutability": "view",
    "type": "function"
  },
  {
    "inputs": [],
    "name": "protocolFee",
    "outputs": [
      {
        "internalType": "uint256",
        "name": "",
        "type": "uint256"
      }
    ],
    "stateMutability": "view",
    "type": "function"
  },
  {
    "inputs": [
      {
        "internalType": "bool",
        "name": "_enableExchange",
        "type": "bool"
      }
    ],
    "name": "setEnableExchange",
    "outputs": [],
    "stateMutability": "nonpayable",
    "type": "function"
  },
  {
    "inputs": [
      {
        "internalType": "uint256",
        "name": "_keeperFee",
        "type": "uint256"
      }
    ],
    "name": "setKeeperFee",
    "outputs": [],
    "stateMutability": "nonpayable",
    "type": "function"
  },
  {
    "inputs": [
      {
        "internalType": "uint256",
        "name": "_protocolFee",
        "type": "uint256"
      }
    ],
    "name": "setProtocolFee",
    "outputs": [],
    "stateMutability": "nonpayable",
    "type": "function"
  },
  {
    "inputs": [
      {
        "internalType": "address",
        "name": "_user",
        "type": "address"
      },
      {
        "internalType": "bytes32",
        "name": "_role",
        "type": "bytes32"
      },
      {
        "internalType": "bool",
        "name": "active",
        "type": "bool"
      }
    ],
    "name": "setRole",
    "outputs": [],
    "stateMutability": "nonpayable",
    "type": "function"
  }
]
